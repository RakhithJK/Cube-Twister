<?xml version="1.0" encoding="UTF-8"?>
<!-- Written to assume that classpath is rooted in the current directory. -->
<!-- So this should be OK if you make this script in the root of a filesystem. -->
<!-- If not, you may prefer to adjust the basedir, or move some directories around. -->
<!-- The idea is that both Ant and NetBeans have to know what the package root is -->
<!-- for the classes in your application. -->
<project basedir="." default="all" name="CubeTwister">

    <!-- Don't worry if you don't know the Ant syntax completely or need help on some tasks! -->
    <!-- The standard Ant documentation is bundled. See Help | Shortcuts | Ant 1.3 Documentation. -->

    <target name="init">
        <property name="name" value="${ant.project.name}"/>
        <property name="version" value="2.0.155"/>
        <property name="appletversion" value="6.2.155"/>
        <property name="versionDate" value="2014-03-22"/>
        <property name="versionYear" value="2014"/>
        <property name="versionLong" value="${version} ${versionDate}"/>
        <property name="author" value="Werner Randelshofer"/>

        <property name="build" value="build"/>
        <property name="classes" value="${build}/classes"/>
        <property name="appletclasses" value="${build}/appletclasses"/>

        <property name="src" value="src/main"/>
        <property name="media.src" value="src/media/main"/>
        <property name="dist" value="dist"/>
        <property name="applets" value="${dist}/applets"/>
        <property name="javadoc" value="${dist}/javadoc"/>
        <property name="res" value="resources"/>
        <property name="documentation" value="resources/documentation"/>
        <property name="htmltemplates" value="resources/htmltemplates"/>
        <property name="jhotdraw" value="/Users/Shared/Developer/Java/JHotDraw/current/trunk/jhotdraw7"/>
        <property name="jhotdraw.src" value="${jhotdraw}/src/main/Java"/>
        <property name="lib" value="lib"/>
        <property name="mylib" value="cubetwister.jar"/>
        <property name="quaqua" value="${lib}/quaqua.jar"/>
        <property name="javahelp" value="${lib}/jh.jar"/>
        <property name="nanoxml" value="${lib}/nanoxml-lite.jar"/>
        <property name="debug" value="true"/>
        
        <!--property name="debuglevel" value="lines,vars,source"/-->
        <property name="debuglevel" value="lines,vars,source"/>
        <property name="applet.debug" value="true"/>
        <property name="applet.debuglevel" value="lines,source"/>
        
        <!-- compilation -->
        <property name="j2se6" value="/System/Library/Frameworks/JavaVM.framework/Versions/1.6" />
        <property name="j2se6.jvm" value="${j2se6}/Home/bin/java"/>
        <property name="javac.source" value="1.6"/>
        <property name="javac.target" value="1.6"/>
        <property name="javac.bootclasspath" value="${j2se6}/Classes/classes.jar:${j2se6}/Classes/ui.jar" />
        <property name="javac.classpath" value="${j2se6}/Classes/classes.jar:${j2se6}/Classes/ui.jar" />
        <property name="javac.extdirs" value="lib/ext" />
        <property name="javac.endorseddirs" value="./lib/endorsed" />

        <!-- jar signing -->
        <property name="keystore.file" value="../../../_Keystore/JavaKeystore.jks"/>
        <property file="${keystore.file}.properties"/>

        <!-- jhotdraw -->
        <property name="JHotDrawProjectSrcDir" value="../../../JHotDraw/current/trunk/jhotdraw7/src/main/java"/>
        <property name="JHotDrawDir" value="."/>
        <property name="JHotDrawSrcdir" value="${JHotDrawDir}/src/jhotdraw7"/>
        <property name="JHotDrawLibdir" value="${JHotDrawDir}/lib"/>
    </target>

    <target depends="init" name="help.compile">
        <mkdir dir="${classes}"/>
        <copy todir="${classes}">
            <fileset dir="${res}">
                <include name="help/**"/>
                <exclude name="**/.*"/>
            </fileset>
        </copy>
        <java classname="com.sun.java.help.search.Indexer" dir="${classes}/help">
            <classpath >
                <fileset dir="${lib}">
                    <include name="jhall.jar"/>
                 </fileset>
            </classpath>
            <arg value="concepts" />
            <arg value="reference" />
            <arg value="tasks" />
        </java>
    </target>
    <target depends="init" name="help.view">
<!--        <java jar="${lib}/hsviewer.jar">-->
        <java classname="sunw.demo.jhdemo.JHLauncher">
            <classpath >
                <fileset dir="${lib}">
                    <include name="hsviewer.jar"/>
                    <include name="jh.jar"/>
                    <include name="jhsearch.jar"/>
                 </fileset>
            </classpath>
            <arg value="-helpset"/>
            <arg value="${classes}/help/helpset.hs"/>
        </java>
    </target>
    <target depends="init, clean-compilation, help.compile" name="compile">
        <mkdir dir="${classes}"/>
        <javac includeantruntime="false"  
                debug="${debug}" debuglevel="${debuglevel}" 
                deprecation="true" optimize="true"
                srcdir="${src}:${media.src}" destdir="${classes}"
                encoding="UTF-8"
                source="${javac.source}" target="${javac.target}" 
                bootclasspath="${javac.bootclasspath}" 
               classpath="${javac.classpath}" 
               extdirs="${javac.extdirs}" >
            <compilerarg value="-endorseddirs"/>
            <compilerarg value="${javac.endorseddirs}"/>
            <compilerarg value="-Xlint:all"/>
            <classpath>
                <pathelement location="${lib}/quaqua.jar"/>
                <pathelement location="${lib}/jh.jar"/>
                <pathelement location="${lib}/annotations.jar"/>
                <pathelement location="${lib}/jsr305.jar"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${jhotdraw.src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <include name="ch/randelshofer/cubetwister/*.java"/>
            <include name="ch/randelshofer/cubetwister/doc/*View.java"/>
            <include name="org/monte/media/avi/*Codec.java"/>
            <include name="org/monte/media/jpeg/*Codec.java"/>
            <include name="org/monte/media/quicktime/*Codec.java"/>
            <include name="nanoxml/*.java"/>
        </javac>
        <copy todir="${classes}">
            <fileset dir="${src}">
                <include name="ch/**/template.xml"/>
                <include name="ch/**/*.properties"/>
                <include name="ch/**/*.png"/>
                <include name="ch/**/*.gif"/>
                <include name="ch/**/*.jpg"/>
                <exclude name="**/_notes/**"/>
                <exclude name="**/.*"/>
                <exclude name="ch/randelshofer/rubik/virtual/*.properties"/>
            </fileset>
        </copy>
        <copy todir="${classes}">
            <fileset dir="${jhotdraw.src}">
                <include name="org/jhotdraw/app/**/*.properties"/>
                <include name="org/jhotdraw/app/**/*.png"/>
                <include name="org/jhotdraw/app/**/*.gif"/>
                <include name="org/jhotdraw/app/**/*.jpg"/>
                <include name="org/jhotdraw/beans/**/*.properties"/>
                <include name="org/jhotdraw/beans/**/*.png"/>
                <include name="org/jhotdraw/beans/**/*.gif"/>
                <include name="org/jhotdraw/beans/**/*.jpg"/>
                <include name="org/jhotdraw/gui/**/*.properties"/>
                <include name="org/jhotdraw/gui/**/*.png"/>
                <include name="org/jhotdraw/gui/**/*.gif"/>
                <include name="org/jhotdraw/gui/**/*.jpg"/>
                <include name="org/jhotdraw/io/**/*.properties"/>
                <include name="org/jhotdraw/io/**/*.png"/>
                <include name="org/jhotdraw/io/**/*.gif"/>
                <include name="org/jhotdraw/io/**/*.jpg"/>
                <include name="org/jhotdraw/undo/**/*.properties"/>
                <include name="org/jhotdraw/util/**/*.properties"/>
                <include name="org/jhotdraw/util/**/*.png"/>
                <include name="org/jhotdraw/util/**/*.gif"/>
                <include name="org/jhotdraw/util/**/*.jpg"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
                <!--exclude name="org/monte/media/gui/images/*.placard.png"/-->
            </fileset>
        </copy>
        <mkdir dir="${build}/htmltemplates"/>
        <copy todir="${build}/htmltemplates">
            <fileset dir="${htmltemplates}">
                <exclude name="**/.*"/>
            </fileset>
        </copy>
        <copy todir="${build}/htmltemplates/applets">
            <fileset dir="${applets}">
                <exclude name="**/.*"/>
            </fileset>
        </copy>
        <!--
        <zip zipfile="${classes}/htmltemplates.zip" compress="true">
            <fileset dir="${build}/htmltemplates">
                <exclude name="**/.*"/>
            </fileset>
        </zip>
        -->
        <tar tarfile="${classes}/htmltemplates.tar.bz" compression="bzip2">
            <fileset dir="${build}/htmltemplates">
                <exclude name="**/.*"/>
                <exclude name="applets/*Flat.*"/>
                <exclude name="applets/Virtual*"/>
                <!-- .jar files will be regenerated from pack200 files!-->
                <exclude name="**/*.jar"/>
            </fileset>
        </tar>
     </target>


    <target depends="init,clean" name="jar PocketPlayer">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <!--<classpath>
            <pathelement location="/Volumes/Mac OS 9/Systemordner/Systemerweiterungen/MRJ Libraries/MRJClasses/JDKClasses.zip"/>
            </classpath>-->
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="PocketPlayer.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/PocketPlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/PocketPlayer.jar" >
            <manifest>
                <attribute name="Main-Class" value="PocketPlayer"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="PocketPlayer"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/PocketPlayer-repacked.jar"/>
            <arg value="${applets}/PocketPlayer.jar"/>
        </exec>
        <delete file="${applets}/PocketPlayer.jar"/>
        <move file="${applets}/PocketPlayer-repacked.jar" tofile="${applets}/PocketPlayer.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/PocketPlayer.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/PocketPlayer-repacked.jar"/>
            <arg value="${applets}/PocketPlayer.jar"/>
        </exec>
        <delete file="${applets}/PocketPlayer.jar"/>
        <move file="${applets}/PocketPlayer-repacked.jar" tofile="${applets}/PocketPlayer.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/PocketPlayer.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/PocketPlayer.jar.pack.gz"/>
            <arg value="${applets}/PocketPlayer.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar PocketPlayerFlat">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <!--<classpath>
            <pathelement location="/Volumes/Mac OS 9/Systemordner/Systemerweiterungen/MRJ Libraries/MRJClasses/JDKClasses.zip"/>
            </classpath>-->
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="PocketPlayerFlat.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/PocketPlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/PocketPlayerFlat.jar" >
            <manifest>
                <attribute name="Main-Class" value="PocketPlayerFlat"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="PocketPlayerFlat"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/PocketPlayerFlat-repacked.jar"/>
            <arg value="${applets}/PocketPlayerFlat.jar"/>
        </exec>
        <delete file="${applets}/PocketPlayerFlat.jar"/>
        <move file="${applets}/PocketPlayerFlat-repacked.jar" tofile="${applets}/PocketPlayerFlat.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/PocketPlayerFlat.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/PocketPlayerFlat.jar.pack.gz"/>
            <arg value="${applets}/PocketPlayerFlat.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar RubikPlayer">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <!--<classpath>
            <pathelement location="/Volumes/Mac OS 9/Systemordner/Systemerweiterungen/MRJ Libraries/MRJClasses/JDKClasses.zip"/>
            </classpath>-->
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="RubikPlayer.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/RubikPlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/RubikPlayer.jar" >
            <manifest>
                <attribute name="Main-Class" value="RubikPlayer"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="RubikPlayer"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/RubikPlayer-repacked.jar"/>
            <arg value="${applets}/RubikPlayer.jar"/>
        </exec>
        <delete file="${applets}/RubikPlayer.jar"/>
        <move file="${applets}/RubikPlayer-repacked.jar" tofile="${applets}/RubikPlayer.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/RubikPlayer.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/RubikPlayer.jar.pack.gz"/>
            <arg value="${applets}/RubikPlayer.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar RubikPlayerFlat">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <!--<classpath>
            <pathelement location="/Volumes/Mac OS 9/Systemordner/Systemerweiterungen/MRJ Libraries/MRJClasses/JDKClasses.zip"/>
            </classpath>-->
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="RubikPlayerFlat.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/RubikPlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/RubikPlayerFlat.jar" >
            <manifest>
                <attribute name="Main-Class" value="RubikPlayerFlat"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="RubikPlayerFlat"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/RubikPlayerFlat-repacked.jar"/>
            <arg value="${applets}/RubikPlayerFlat.jar"/>
        </exec>
        <delete file="${applets}/RubikPlayerFlat.jar"/>
        <move file="${applets}/RubikPlayerFlat-repacked.jar" tofile="${applets}/RubikPlayerFlat.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/RubikPlayerFlat.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/RubikPlayerFlat.jar.pack.gz"/>
            <arg value="${applets}/RubikPlayerFlat.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar ProfessorPlayer">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <!--<classpath>
            <pathelement location="/Volumes/Mac OS 9/Systemordner/Systemerweiterungen/MRJ Libraries/MRJClasses/JDKClasses.zip"/>
            </classpath>-->
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="ProfessorPlayer.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/ProfessorPlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/ProfessorPlayer.jar" >
            <manifest>
                <attribute name="Main-Class" value="ProfessorPlayer"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="ProfessorPlayer"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/ProfessorPlayer-repacked.jar"/>
            <arg value="${applets}/ProfessorPlayer.jar"/>
        </exec>
        <delete file="${applets}/ProfessorPlayer.jar"/>
        <move file="${applets}/ProfessorPlayer-repacked.jar" tofile="${applets}/ProfessorPlayer.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/ProfessorPlayer.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/ProfessorPlayer.jar.pack.gz"/>
            <arg value="${applets}/ProfessorPlayer.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar ProfessorPlayerFlat">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To add something to the classpath: -->
            <!--<classpath>
            <pathelement location="/Volumes/Mac OS 9/Systemordner/Systemerweiterungen/MRJ Libraries/MRJClasses/JDKClasses.zip"/>
            </classpath>-->
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="ProfessorPlayerFlat.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/ProfessorPlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/ProfessorPlayerFlat.jar" >
            <manifest>
                <attribute name="Main-Class" value="ProfessorPlayerFlat"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="ProfessorPlayerFlat"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/ProfessorPlayerFlat-repacked.jar"/>
            <arg value="${applets}/ProfessorPlayerFlat.jar"/>
        </exec>
        <delete file="${applets}/ProfessorPlayerFlat.jar"/>
        <move file="${applets}/ProfessorPlayerFlat-repacked.jar" tofile="${applets}/ProfessorPlayerFlat.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/ProfessorPlayerFlat.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/ProfessorPlayerFlat.jar.pack.gz"/>
            <arg value="${applets}/ProfessorPlayerFlat.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar RevengePlayer">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To add something to the classpath: -->
            <!--<classpath>
            <pathelement location="/Volumes/Mac OS 9/Systemordner/Systemerweiterungen/MRJ Libraries/MRJClasses/JDKClasses.zip"/>
            </classpath>-->
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="RevengePlayerFlat3D.java"/>
            <include name="RevengePlayer.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/RevengePlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/RevengePlayer.jar" >
            <manifest>
                <attribute name="Main-Class" value="RevengePlayer"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="RevengePlayer"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/RevengePlayer-repacked.jar"/>
            <arg value="${applets}/RevengePlayer.jar"/>
        </exec>
        <delete file="${applets}/RevengePlayer.jar"/>
        <move file="${applets}/RevengePlayer-repacked.jar" tofile="${applets}/RevengePlayer.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/RevengePlayer.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/RevengePlayer.jar.pack.gz"/>
            <arg value="${applets}/RevengePlayer.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar RevengePlayerFlat">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <include name="RevengePlayerFlat.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/RevengePlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/RevengePlayerFlat.jar" >
            <manifest>
                <attribute name="Main-Class" value="RevengePlayerFlat"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="RevengePlayerFlat"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/RevengePlayerFlat-repacked.jar"/>
            <arg value="${applets}/RevengePlayerFlat.jar"/>
        </exec>
        <delete file="${applets}/RevengePlayerFlat.jar"/>
        <move file="${applets}/RevengePlayerFlat-repacked.jar" tofile="${applets}/RevengePlayerFlat.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/RevengePlayerFlat.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/RevengePlayerFlat.jar.pack.gz"/>
            <arg value="${applets}/RevengePlayerFlat.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar BarrelPlayer">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" 
               optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <classpath>
                <pathelement location="${lib}/java_30.zip"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="BarrelPlayer.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/RubikPlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/BarrelPlayer.jar" >
            <manifest>
                <attribute name="Main-Class" value="BarrelPlayer"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="BarrelPlayer"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/BarrelPlayer-repacked.jar"/>
            <arg value="${applets}/BarrelPlayer.jar"/>
        </exec>
        <delete file="${applets}/BarrelPlayer.jar"/>
        <move file="${applets}/BarrelPlayer-repacked.jar" tofile="${applets}/BarrelPlayer.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/BarrelPlayer.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/BarrelPlayer.jar.pack.gz"/>
            <arg value="${applets}/BarrelPlayer.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar BarrelPlayerFlat">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <!--<classpath>
            <pathelement location="/Volumes/Mac OS 9/Systemordner/Systemerweiterungen/MRJ Libraries/MRJClasses/JDKClasses.zip"/>
            </classpath>-->
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="BarrelPlayerFlat.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/RubikPlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/BarrelPlayerFlat.jar" >
            <manifest>
                <attribute name="Main-Class" value="BarrelPlayerFlat"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="BarrelPlayerFlat"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/BarrelPlayerFlat-repacked.jar"/>
            <arg value="${applets}/BarrelPlayerFlat.jar"/>
        </exec>
        <delete file="${applets}/BarrelPlayerFlat.jar"/>
        <move file="${applets}/BarrelPlayerFlat-repacked.jar" tofile="${applets}/BarrelPlayerFlat.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/BarrelPlayerFlat.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/BarrelPlayerFlat.jar.pack.gz"/>
            <arg value="${applets}/BarrelPlayerFlat.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar DiamondPlayer">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <include name="DiamondPlayer.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/RubikPlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/DiamondPlayer.jar" >
            <manifest>
                <attribute name="Main-Class" value="DiamondPlayer"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="DiamondPlayer"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/DiamondPlayer-repacked.jar"/>
            <arg value="${applets}/DiamondPlayer.jar"/>
        </exec>
        <delete file="${applets}/DiamondPlayer.jar"/>
        <move file="${applets}/DiamondPlayer-repacked.jar" tofile="${applets}/DiamondPlayer.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/DiamondPlayer.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/DiamondPlayer.jar.pack.gz"/>
            <arg value="${applets}/DiamondPlayer.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar DiamondPlayerFlat">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <include name="DiamondPlayerFlat.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/RubikPlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/DiamondPlayerFlat.jar" >
            <manifest>
                <attribute name="Main-Class" value="DiamondPlayerFlat"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="DiamondPlayerFlat"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/DiamondPlayerFlat-repacked.jar"/>
            <arg value="${applets}/DiamondPlayerFlat.jar"/>
        </exec>
        <delete file="${applets}/DiamondPlayerFlat.jar"/>
        <move file="${applets}/DiamondPlayerFlat-repacked.jar" tofile="${applets}/DiamondPlayerFlat.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/DiamondPlayerFlat.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/DiamondPlayerFlat.jar.pack.gz"/>
            <arg value="${applets}/DiamondPlayerFlat.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar CuboctahedronPlayer">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <include name="CuboctahedronPlayer.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/RubikPlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/CuboctahedronPlayer.jar" >
            <manifest>
                <attribute name="Main-Class" value="CuboctahedronPlayer"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="CuboctahedronPlayer"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/CuboctahedronPlayer-repacked.jar"/>
            <arg value="${applets}/CuboctahedronPlayer.jar"/>
        </exec>
        <delete file="${applets}/CuboctahedronPlayer.jar"/>
        <move file="${applets}/CuboctahedronPlayer-repacked.jar" tofile="${applets}/CuboctahedronPlayer.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/CuboctahedronPlayer.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/CuboctahedronPlayer.jar.pack.gz"/>
            <arg value="${applets}/CuboctahedronPlayer.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar CuboctahedronPlayerFlat">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <include name="CuboctahedronPlayerFlat.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/RubikPlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/CuboctahedronPlayerFlat.jar" >
            <manifest>
                <attribute name="Main-Class" value="CuboctahedronPlayerFlat"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="CuboctahedronPlayerFlat"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/CuboctahedronPlayerFlat-repacked.jar"/>
            <arg value="${applets}/CuboctahedronPlayerFlat.jar"/>
        </exec>
        <delete file="${applets}/CuboctahedronPlayerFlat.jar"/>
        <move file="${applets}/CuboctahedronPlayerFlat-repacked.jar" tofile="${applets}/CuboctahedronPlayerFlat.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/CuboctahedronPlayerFlat.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/CuboctahedronPlayerFlat.jar.pack.gz"/>
            <arg value="${applets}/CuboctahedronPlayerFlat.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar Cube6Player">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <include name="Cube6Player.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/VCube6PlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/Cube6Player.jar" >
            <manifest>
                <attribute name="Main-Class" value="Cube6Player"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="Cube6Player"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/Cube6Player-repacked.jar"/>
            <arg value="${applets}/Cube6Player.jar"/>
        </exec>
        <delete file="${applets}/Cube6Player.jar"/>
        <move file="${applets}/Cube6Player-repacked.jar" tofile="${applets}/Cube6Player.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/Cube6Player.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/Cube6Player.jar.pack.gz"/>
            <arg value="${applets}/Cube6Player.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar VCube6Player">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <include name="VCube6Player.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/VCube6PlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VCube6Player.jar" >
            <manifest>
                <attribute name="Main-Class" value="VCube6Player"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VCube6Player"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VCube6Player-repacked.jar"/>
            <arg value="${applets}/VCube6Player.jar"/>
        </exec>
        <delete file="${applets}/VCube6Player.jar"/>
        <move file="${applets}/VCube6Player-repacked.jar" tofile="${applets}/VCube6Player.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VCube6Player.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VCube6Player.jar.pack.gz"/>
            <arg value="${applets}/VCube6Player.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar Cube6PlayerFlat">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <include name="Cube6PlayerFlat.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/VCube6PlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/Cube6PlayerFlat.jar" >
            <manifest>
                <attribute name="Main-Class" value="Cube6PlayerFlat"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="Cube6PlayerFlat"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/Cube6PlayerFlat-repacked.jar"/>
            <arg value="${applets}/Cube6PlayerFlat.jar"/>
        </exec>
        <delete file="${applets}/Cube6PlayerFlat.jar"/>
        <move file="${applets}/Cube6PlayerFlat-repacked.jar" tofile="${applets}/Cube6PlayerFlat.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/Cube6PlayerFlat.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/Cube6PlayerFlat.jar.pack.gz"/>
            <arg value="${applets}/Cube6PlayerFlat.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar VCube6PlayerFlat">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <include name="VCube6PlayerFlat.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/VCube6PlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VCube6PlayerFlat.jar" >
            <manifest>
                <attribute name="Main-Class" value="VCube6PlayerFlat"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VCube6PlayerFlat"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VCube6PlayerFlat-repacked.jar"/>
            <arg value="${applets}/VCube6PlayerFlat.jar"/>
        </exec>
        <delete file="${applets}/VCube6PlayerFlat.jar"/>
        <move file="${applets}/VCube6PlayerFlat-repacked.jar" tofile="${applets}/VCube6PlayerFlat.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VCube6PlayerFlat.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VCube6PlayerFlat.jar.pack.gz"/>
            <arg value="${applets}/VCube6PlayerFlat.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar VCube7PlayerFlat">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <include name="VCube7PlayerFlat.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/VCube7PlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VCube7PlayerFlat.jar" >
            <manifest>
                <attribute name="Main-Class" value="VCube7PlayerFlat"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VCube7PlayerFlat"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VCube7PlayerFlat-repacked.jar"/>
            <arg value="${applets}/VCube7PlayerFlat.jar"/>
        </exec>
        <delete file="${applets}/VCube7PlayerFlat.jar"/>
        <move file="${applets}/VCube7PlayerFlat-repacked.jar" tofile="${applets}/VCube7PlayerFlat.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VCube7PlayerFlat.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VCube7PlayerFlat.jar.pack.gz"/>
            <arg value="${applets}/VCube7PlayerFlat.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar VCube7Player">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <include name="VCube7Player.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/VCube7PlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VCube7Player.jar" >
            <manifest>
                <attribute name="Main-Class" value="VCube7Player"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VCube7Player"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VCube7Player-repacked.jar"/>
            <arg value="${applets}/VCube7Player.jar"/>
        </exec>
        <delete file="${applets}/VCube7Player.jar"/>
        <move file="${applets}/VCube7Player-repacked.jar" tofile="${applets}/VCube7Player.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VCube7Player.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VCube7Player.jar.pack.gz"/>
            <arg value="${applets}/VCube7Player.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar Cube7Player">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}"  target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <include name="Cube7Player.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/VCube7PlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/Cube7Player.jar" >
            <manifest>
                <attribute name="Main-Class" value="Cube7Player"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="Cube7Player"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/Cube7Player-repacked.jar"/>
            <arg value="${applets}/Cube7Player.jar"/>
        </exec>
        <delete file="${applets}/Cube7Player.jar"/>
        <move file="${applets}/Cube7Player-repacked.jar" tofile="${applets}/Cube7Player.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/Cube7Player.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/Cube7Player.jar.pack.gz"/>
            <arg value="${applets}/Cube7Player.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar Cube7PlayerFlat">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <include name="Cube7PlayerFlat.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/player/VCube7PlayerResources.xml"/>
                <include name="ch/randelshofer/rubik/parser/Labels*.properties"/>
                <include name="ch/randelshofer/rubik/player/Labels*.properties"/>
                <exclude name="**/_notes/**"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/Cube7PlayerFlat.jar" >
            <manifest>
                <attribute name="Main-Class" value="Cube7PlayerFlat"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="Cube7PlayerFlat"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/Cube7PlayerFlat-repacked.jar"/>
            <arg value="${applets}/Cube7PlayerFlat.jar"/>
        </exec>
        <delete file="${applets}/Cube7PlayerFlat.jar"/>
        <move file="${applets}/Cube7PlayerFlat-repacked.jar" tofile="${applets}/Cube7PlayerFlat.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/Cube7PlayerFlat.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/Cube7PlayerFlat.jar.pack.gz"/>
            <arg value="${applets}/Cube7PlayerFlat.jar"/>
        </exec>
    </target>

    <target depends="init,build Applets,compile,help.compile" name="jar">
        <unzip src="${quaqua}" dest="${classes}">
            <patternset>
                <exclude name="META-INF/**"/>
            </patternset>
        </unzip>

        <unzip src="${javahelp}" dest="${classes}">
            <patternset>
                <exclude name="META-INF/**"/>
            </patternset>
        </unzip>
        <!-- To make a standalone app: -->
        <!-- 1. Create a cubetwister.mf manifest somewhere. -->
        <!-- 2. Put in it: -->
        <!--    Manifest-Version: 1.0 -->
        <!--    Main-Class: com.foo.Main -->
        <!-- 3. Pass to <jar>: manifest="cubetwistermanifest.mf" -->
        <jar basedir="${classes}" compress="true"
             jarfile="${dist}/CubeTwister.jar"
        >
            <manifest>
                <attribute name="Main-Class" value="ch.randelshofer.cubetwister.Main"/>
                <attribute name="Specification-Title" value="CubeTwister"/>
                <attribute name="Specification-Version" value="${versionLong}"/>
                <attribute name="Specification-Vendor" value="Werner Randelshofer"/>
                <attribute name="Implementation-Title" value="CubeTwister"/>
                <attribute name="Implementation-Version" value="${versionLong}"/>
                <attribute name="Implementation-Vendor" value="Werner Randelshofer"/>
                <!-- applet security -->
                <attribute name="Application-Name" value="CubeTwister"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="all-permissions"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>
            </manifest>
            <exclude name="**/*.java"/>
            <exclude name="**/*.form"/>
            <exclude name="**/Icon?"/>
            <exclude name="**/.*"/>
            <exclude name="build.xml"/>
            <exclude name="**/*Test.class"/>
            <exclude name="META-INF/**"/>
        </jar>
    </target>
    <target depends="init,clean" name="jar Solver">
        <mkdir dir="${appletclasses}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${classes}"
        >
            <!-- To add something to the classpath: -->
            <!--<classpath>
            <pathelement location="/Volumes/Mac OS 9/Systemordner/Systemerweiterungen/MRJ Libraries/MRJClasses/JDKClasses.zip"/>
            </classpath>-->
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="ch/randelshofer/rubik/solver/Main.java"/>
        </javac>
        <jar basedir="${classes}" compress="true"
             jarfile="${dist}/rubiksolver.jar" >
            <manifest>
                <attribute name="Main-Class" value="ch.randelshofer.rubik.solver.Main"/>
                <attribute name="Implementation-Version" value="${appletversion}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                <!-- applet security -->
                <attribute name="Application-Name" value="Rubik Solver"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="all-permissions"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>
            </manifest>
        </jar>
    </target>

    <target name="build Applets" description="Build everything."
            depends="init,
            jar BarrelPlayer,
            jar DiamondPlayer,
            jar CuboctahedronPlayer,
            jar PocketPlayer,
            jar ProfessorPlayer,
            jar RevengePlayer,
            jar RubikPlayer,
            jar Cube6Player,
            jar Cube7Player,
            jar VCube6Player,
            jar VCube7Player,

            jar BarrelPlayerFlat,
            jar DiamondPlayerFlat,
            jar CuboctahedronPlayerFlat,
            jar PocketPlayerFlat,
            jar ProfessorPlayerFlat,
            jar RevengePlayerFlat,
            jar RubikPlayerFlat,
            jar Cube6PlayerFlat,
            jar Cube7PlayerFlat,
            jar VCube6PlayerFlat,
            jar VCube7PlayerFlat,

            jar VirtualPocketCube,
            jar VirtualProfessorCube,
            jar VirtualRevengeCube,
            jar VirtualRubiksBarrel,
            jar VirtualRubiksCube,
            jar VirtualRubiksDiamond,
            jar VirtualRubiksCuboctahedron,
            jar VirtualVCube6,
            jar VirtualVCube7,
            jar VirtualCube6,
            jar VirtualCube7
            "
    >
        <echo message="Applets built."/>
    </target>

    <target name="all" depends="init">

    </target>

    <target depends="init" description="Try running it." name="run">
        <java classname="ch.randelshofer.cubetwister.Main"
        failonerror="true" fork="true">
            <classpath>
                <pathelement location="${classes}"/>
                <pathelement location="${lib}/quaqua.jar"/>
                <pathelement location="${lib}/jh.jar"/>
                <pathelement location="${lib}/annotations.jar"/>
                <pathelement location="${lib}/jsr305.jar"/>
            </classpath>
            <!--jvmarg value="–Xverify:none"/-->
            <jvmarg value="-Djava.library.path=${lib}"/>
            <jvmarg value="-Xmx512M"/>
            <jvmarg value="-Xdock:name=CubeTwister"/>
        </java>
    </target>
    <target depends="init" description="Try running it." name="run J2SE6">
        <java classname="ch.randelshofer.cubetwister.Main"
        jvm="/System/Library/Frameworks/JavaVM.framework/Versions/1.6/Home/bin/java"
        failonerror="true" fork="true">
            <classpath>
                <pathelement location="${classes}"/>
                <pathelement location="${lib}/quaqua.jar"/>
                <pathelement location="${lib}/jh.jar"/>
                <pathelement location="${lib}/annotations.jar"/>
                <pathelement location="${lib}/jsr305.jar"/>
            </classpath>
            <jvmarg value="-Djava.library.path=${lib}"/>
            <jvmarg value="-Xmx640M"/>
            <!--jvmarg value="-Duser.language=sl"/-->
            <!-- Pass some args, perhaps: -->
            <!--<arg value="-myfile"/> -->
            <!-- Will be given as an absolute path: -->
            <!--<arg file="myfile.txt"/>-->
        </java>
    </target>
    <target depends="init" description="Try running it." name="run Solver GUI">
        <java classname="ch.randelshofer.rubik.solver.Main"
        failonerror="true" fork="true">
            <classpath>
                <pathelement location="${classes}"/>
                <pathelement location="${lib}/quaqua.jar"/>
                <pathelement location="${lib}/jh.jar"/>
                <pathelement location="${lib}/annotations.jar"/>
                <pathelement location="${lib}/jsr305.jar"/>
            </classpath>
            <jvmarg value="-Djava.library.path=${lib}"/>
            <!--jvmarg value="-Duser.language=sl"/-->
            <!-- Pass some args, perhaps: -->
            <!--<arg value="-myfile"/> -->
            <!-- Will be given as an absolute path: -->
            <!--<arg file="myfile.txt"/>-->
        </java>
    </target>
    <target depends="init" description="Try running it." name="run Solver Commandline">
        <java classname="ch.randelshofer.rubik.solver.Main"
        failonerror="true" fork="true">
            <classpath>
                <pathelement location="${classes}"/>
                <pathelement location="${lib}/quaqua.jar"/>
                <pathelement location="${lib}/jh.jar"/>
                <pathelement location="${lib}/annotations.jar"/>
                <pathelement location="${lib}/jsr305.jar"/>
            </classpath>
            <jvmarg value="-Djava.library.path=${lib}"/>
            <!--jvmarg value="-Duser.language=sl"/-->
            <!-- Pass some args, perhaps: -->
            <!--<arg value="-myfile"/> -->
            <!-- Will be given as an absolute path: -->
            <!--<arg file="myfile.txt"/>-->
            <arg value="L:WWGROOYWG"/>
            <arg value="R:BROBROYBB"/>
            <arg value="U:RRWYWWWRR"/>
            <arg value="D:BOBGBGWOG"/>
            <arg value="F:OYYYYYOWO"/>
            <arg value="B:YGGBGBRGR"/>
        </java>
    </target>
    <target depends="init" name="run Debugger with SoyLatte">
        <java classname="ch.randelshofer.debug.Debugger"
        failonerror="true" fork="true"
        jvm="/System/Library/Frameworks/JavaVM.framework/Versions/1.6/Home/bin/java"
        >
            <classpath>
                <pathelement location="${classes}"/>
                <pathelement location="${lib}/quaqua.jar"/>
                <pathelement location="${lib}/jh.jar"/>
                <pathelement location="${lib}/annotations.jar"/>
                <pathelement location="${lib}/jsr305.jar"/>
            </classpath>
            <jvmarg value="-Djava.library.path=${lib}"/>
            <!--jvmarg value="-Duser.language=sl"/-->
            <!-- Pass some args, perhaps: -->
            <!--<arg value="-myfile"/> -->
            <!-- Will be given as an absolute path: -->
            <!--<arg file="myfile.txt"/>-->
        </java>
    </target>
    <target depends="init,all" description="Try running it." name="testNoQuaqua">
        <java classname="ch.randelshofer.cubetwister.Main"
              classpath=".:../../../Quaqua/current/src:${lib}/jh.jar" failonerror="true" fork="true">
            <arg value="-noQuaqua"/>
        </java>
    </target>
    <target depends="init,all" description="Try running it." name="testCrossPlatformLAF">
        <java classname="ch.randelshofer.cubetwister.Main"
              failonerror="true" fork="true">
            <arg value="-crossPlatformLAF"/>
            <jvmarg value="-DQuaqua.noQuaqua=true"/>
            <classpath>
                <pathelement location="${src}"/>
                <pathelement location="${quaqua}"/>
                <pathelement location="${javahelp}"/>
                <pathelement location="${nanoxml}"/>
                <pathelement location="${lib}/annotation.jar"/>
                <pathelement location="${lib}/jsr305.jar"/>
            </classpath>
        </java>
    </target>

   <target depends="clean,jar" description="Bundle the software." name="bundle Mac OS X">
       <mkdir dir="${dist}"/>
       <delete dir="${dist}/CubeTwister ${version}"/>
       <mkdir dir="${dist}/CubeTwister ${version}"/>
        <copy todir="${dist}/CubeTwister ${version}">
            <fileset dir="${documentation}">
                <exclude name="guide/cubeplayer/**"/>
                <exclude name="guide/virtualcube/**"/>
                <exclude name="guide/nav-applets-*"/>
                <exclude name="guide/nav-complete-*"/>
                <exclude name="cubetwister-applets-*"/>
                <exclude name="cubetwister-complete-*"/>
            </fileset>
        </copy>
       <mkdir dir="${dist}/CubeTwister ${version}/CubeTwister.app"/>
        <copy todir="${dist}/CubeTwister ${version}/CubeTwister.app">
            <fileset dir="resources/Mac OS X Bundle">
            </fileset>
        </copy>
        <chmod perm="ugo+x"
            file="${dist}/CubeTwister ${version}/CubeTwister.app/Contents/MacOS/JavaApplicationStub"
        />
        <copy todir="${dist}/CubeTwister ${version}/CubeTwister.app/Contents/Resources/Java">
            <fileset dir="${lib}">
                <include name="libquaqua*.jnilib"/>
            </fileset>
        </copy>
        <copy tofile="${dist}/CubeTwister ${version}/CubeTwister.app/Contents/Resources/Java/cubetwister.jar">
            <fileset dir="${dist}">
                <include name="CubeTwister.jar"/>
            </fileset>
        </copy>
        <delete file="${dist}/cubetwister-${version}mac.dmg"/>
        <exec executable="hdiutil">
            <arg value="create"/>
            <arg value="-srcfolder"/>
            <arg value="${dist}/CubeTwister ${version}"/>
            <arg value="-format"/>
            <arg value="UDCO"/>
            <arg value="${dist}/cubetwister-${version}mac.dmg"/>
        </exec>
        <exec executable="hdiutil">
            <arg value="internet-enable"/>
            <arg value="${dist}/cubetwister-${version}mac.dmg"/>
        </exec>
    </target>
   <target depends="clean,jar" description="Bundle the software." name="bundle Windows">
       <mkdir dir="${dist}"/>
       <delete dir="${dist}/CubeTwister ${version}"/>
       <mkdir dir="${dist}/CubeTwister ${version}"/>
       <copy todir="${dist}/CubeTwister ${version}">
            <fileset dir="${documentation}">
                <include name="*.html"/>
            </fileset>
       </copy>
       <copy todir="${dist}/CubeTwister ${version}">
            <fileset dir="${dist}">
                <include name="CubeTwister.jar"/>
            </fileset>
       </copy>
        <copy todir="${dist}/CubeTwister ${version}">
            <fileset dir="${lib}">
                <include name="*.jnilib"/>
            </fileset>
        </copy>
        <copy todir="${dist}/CubeTwister ${version}">
            <fileset dir="resources/Windows Bundle">
            </fileset>
        </copy>
        <zip destfile="${dist}/cubetwister-${version}win.zip">
            <fileset dir="${dist}">
                <include name="CubeTwister ${version}/**"/>
                <exclude name="**/.*"/>
            </fileset>
        </zip>
    </target>
   <target depends="init,bundle Java" description="Bundle the software." name="bundle Java Web Start">
       <mkdir dir="${dist}"/>
       <delete dir="${dist}/CubeTwister ${version}jws"/>
       <mkdir dir="${dist}/CubeTwister ${version}jws"/>

       <!-- Create CubeTwister.jar without the htmltemplates.tar.bz file, because
       pack200 chokes on it. -->
        <jar basedir="${classes}" compress="true"
             jarfile="${dist}/CubeTwister ${version}jws/CubeTwister.jar"
        >
            <manifest>
                <attribute name="Main-Class" value="ch.randelshofer.cubetwister.Main"/>
                <attribute name="Class-Path" value="htmltemplates.tar.bz.jar"/>
                <attribute name="Specification-Title" value="CubeTwister"/>
                <attribute name="Specification-Version" value="${versionLong}"/>
                <attribute name="Specification-Vendor" value="Werner Randelshofer"/>
                <attribute name="Implementation-Title" value="CubeTwister"/>
                <attribute name="Implementation-Version" value="${versionLong}"/>
                <attribute name="Implementation-Vendor" value="Werner Randelshofer"/>
                <!-- applet security -->
                <attribute name="Application-Name" value="CubeTwister"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="all-permissions"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>
            </manifest>
            <exclude name="htmltemplates.tar.bz"/>
            <exclude name="**/*.java"/>
            <exclude name="**/*.form"/>
            <exclude name="**/Icon?"/>
            <exclude name="**/.*"/>
            <exclude name="build.xml"/>
            <exclude name="**/*Test.class"/>
            <exclude name="META-INF/**"/>
        </jar>
        <jar basedir="${classes}" compress="false"
             jarfile="${dist}/CubeTwister ${version}jws/htmltemplates.tar.bz.jar"
        >
            <include name="htmltemplates.tar.bz"/>
        </jar>
        <jar basedir="${lib}" compress="true"
             jarfile="${dist}/CubeTwister ${version}jws/libquaqua.jnilib.jar"
        >
            <include name="libquaqua.jnilib"/>
        </jar>
        <jar basedir="${lib}" compress="false"
             jarfile="${dist}/CubeTwister ${version}jws/libquaqua64.jnilib.jar"
        >
            <include name="libquaqua64.jnilib"/>
        </jar>
        <!-- repack the jar file before signing -->
        <exec executable="pack200">
            <arg value="-J-Xmx512m"/>
            <arg value="--repack"/>
            <arg value="--no-keep-file-order"/>
            <arg value="--effort=9"/>
            <arg value="--segment-limit=-1"/>
            <arg value="${dist}/CubeTwister ${version}jws/CubeTwister.jar"/>
        </exec>
        <!-- sign the jar file -->
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}"
                jar="${dist}/CubeTwister ${version}jws/CubeTwister.jar"
                tsaurl="${keystore.tsaurl}"
               >
        </signjar>  
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}"
                jar="${dist}/CubeTwister ${version}jws/libquaqua.jnilib.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>  
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}"
                jar="${dist}/CubeTwister ${version}jws/libquaqua64.jnilib.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>  
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}"
                jar="${dist}/CubeTwister ${version}jws/htmltemplates.tar.bz.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>  
        <!-- pack the jar file -->
        <exec executable="pack200">
            <arg value="--no-keep-file-order"/>
            <arg value="--effort=9"/>
            <arg value="--segment-limit=-1"/>
            <arg value="${dist}/CubeTwister ${version}jws/CubeTwister.jar.pack.gz"/>
            <arg value="${dist}/CubeTwister ${version}jws/CubeTwister.jar"/>
        </exec>
        <!-- we don't need the jar file anymore. -->
        <delete file="${dist}/CubeTwister ${version}jws/CubeTwister.jar"/>
        <!-- write the version number into the splash screen. -->
       <image destdir="${dist}/CubeTwister ${version}jws" overwrite="yes" encoding="png">
            <fileset dir="resources/Java Web Start Bundle">
                <include name="splash.png"/>
            </fileset>
            <draw xloc="7" yloc="221">
                <text font="Helvetica" point="12"
                    string="CubeTwister ${version} © 2001–${versionYear} · All Rights Reserved" />
            </draw>
            <draw xloc="7" yloc="235">
                <text font="Helvetica" point="12"
                    string="Werner Randelshofer · Harmettlenstr. 4 · CH-6410 Goldau · Switzerland" />
            </draw>
            <draw xloc="7" yloc="249">
                <text font="Helvetica" point="12"
                    string="http://www.randelshofer.ch · werner.randelshofer@bluewin.ch" />
            </draw>
       </image>
        <!-- Finish it all up -->
        <copy todir="${dist}/CubeTwister ${version}jws">
            <fileset dir="resources/Java Web Start Bundle">
            </fileset>
        </copy>
        <zip destfile="${dist}/cubetwister-${version}jws.zip">
            <fileset dir="${dist}">
                <include name="CubeTwister ${version}jws/**"/>
                <exclude name="**/.*"/>
                <exclude name="**/CubeTwister.jar"/>
            </fileset>
        </zip>
    </target>
    <target depends="clean,build Applets" description="Bundle the software." name="bundle Applets">
       <mkdir dir="${dist}"/>
       <delete dir="${dist}/CubeTwisterApplets ${version}"/>
       <mkdir dir="${dist}/CubeTwisterApplets ${version}"/>
       <copy todir="${dist}/CubeTwisterApplets ${version}">
            <fileset dir="${dist}">
                <include name="applets/**"/>
            </fileset>
       </copy>
       <copy todir="${dist}/CubeTwisterApplets ${version}">
            <fileset dir="${htmltemplates}">
                <include name="applets/**"/>
            </fileset>
       </copy>
       <copy todir="${dist}/CubeTwisterApplets ${version}">
            <fileset dir="${documentation}">
                <exclude name=".*"/>
                <exclude name="cubetwister-guide*"/>
                <exclude name="cubetwister-complete-*"/>
            </fileset>
       </copy>
        <zip destfile="${dist}/cubetwisterapplets-${version}.zip">
            <fileset dir="${dist}">
                <include name="CubeTwisterApplets ${version}/**"/>
                <exclude name="**/.*"/>
            </fileset>
        </zip>
    </target>
   <target depends="clean,jar" description="Bundle the software." name="bundle Java">
       <mkdir dir="${dist}"/>
       <delete dir="${dist}/CubeTwister ${version}"/>
       <mkdir dir="${dist}/CubeTwister ${version}"/>
       <copy todir="${dist}/CubeTwister ${version}">
            <fileset dir="${documentation}">
                <exclude name="guide/cubeplayer/**"/>
                <exclude name="guide/virtualcube/**"/>
                <exclude name="guide/nav-applets-*"/>
                <exclude name="guide/nav-complete-*"/>
                <exclude name="cubetwister-applets-*"/>
                <exclude name="cubetwister-complete-*"/>
            </fileset>
       </copy>
       <copy todir="${dist}/CubeTwister ${version}">
            <fileset dir="${dist}">
                <include name="CubeTwister.jar"/>
            </fileset>
       </copy>
        <copy todir="${dist}/CubeTwister ${version}">
            <fileset dir="${lib}">
                <include name="*.jnilib"/>
            </fileset>
        </copy>
        <zip destfile="${dist}/cubetwister-${version}.zip">
            <fileset dir="${dist}">
                <include name="CubeTwister ${version}/**"/>
                <exclude name="**/.*"/>
            </fileset>
        </zip>
    </target>
   <target depends="init"
    description="Bundle the software." name="bundle Src">
       <mkdir dir="${dist}"/>
        <!--zip destfile="${dist}/cubetwister-${version}src.zip">
            <fileset dir="..">
                <include name="CubeTwister/**"/>
                <exclude name="CubeTwister/build/**"/>
                <exclude name="CubeTwister/dist/**"/>
                <exclude name="**/.*"/>
            </fileset>
        </zip-->
        <tar tarfile="${dist}/cubetwister-${version}src.tar.bz"
            compression="bzip2">
            <fileset dir="..">
                <include name="CubeTwister/**"/>
                <exclude name="CubeTwister/build/**"/>
                <exclude name="CubeTwister/dist/**"/>
                <exclude name="**/.*"/>
            </fileset>
        </tar>
    </target>
   <target depends="bundle Java,bundle Mac OS X, bundle Src, bundle Java Web Start, bundle Applets, javadoc" description="Bundle the software." name="bundle All">
    </target>

    <target depends="init" description="Javadoc for my API." name="javadoc">
        <mkdir dir="${dist}/javadoc"/>
        <javadoc destdir="${dist}/javadoc"
        footer="&lt;font size=-2>(c) Werner Randelshofer.&lt;br>All rights reserved.&lt;/font>"
        header="CubeTwister ${versionLong}"
        windowtitle="CubeTwister ${version}"
        packagenames="ch.randelshofer.*,idx3d.*"
        maxmemory="512M"
        >
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${jhotdraw.src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <classpath>
                <pathelement location="${lib}/quaqua.jar"/>
                <pathelement location="${lib}/jh.jar"/>
                <pathelement location="${lib}/java_30.zip"/>
                <pathelement location="${lib}/annotations.jar"/>
                <pathelement location="${lib}/jsr305.jar"/>
            </classpath>
        </javadoc>
    </target>

    <target depends="jar, javadoc" description="Build a release."
            name="release">
        <delete>
            <fileset defaultexcludes="false" dir="${src}">
                <include name="**/*.class"/>
                <include name="**/*.java~"/>
            </fileset>
        </delete>
    </target>

    <target depends="init" description="Clean all build products." name="clean">
        
        <delete dir="${appletclasses}"/>
        <delete dir="${classes}"/>
        
    </target>
    <target depends="init" description="Clean compilation products only." name="clean-compilation">
        <delete dir="${classes}"/>
    </target>

    <target depends="init,clean" name="jar VirtualRubiksBarrel">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <classpath>
            <pathelement location="${lib}/java_30.zip"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="VirtualRubiksBarrel.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/virtual/Labels*.properties"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VirtualRubiksBarrel.jar" >
            <manifest>
                <attribute name="Main-Class" value="VirtualRubiksBarrel"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VirtualRubiksBarrel"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VirtualRubiksBarrel-repacked.jar"/>
            <arg value="${applets}/VirtualRubiksBarrel.jar"/>
        </exec>
        <delete file="${applets}/VirtualRubiksBarrel.jar"/>
        <move file="${applets}/VirtualRubiksBarrel-repacked.jar" tofile="${applets}/VirtualRubiksBarrel.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VirtualRubiksBarrel.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VirtualRubiksBarrel.jar.pack.gz"/>
            <arg value="${applets}/VirtualRubiksBarrel.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar VirtualRubiksCube">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <classpath>
            <pathelement location="${lib}/java_30.zip"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="VirtualRubiksCube.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/virtual/Labels*.properties"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VirtualRubiksCube.jar" >
            <manifest>
                <attribute name="Main-Class" value="VirtualRubiksCube"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VirtualRubiksCube"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VirtualRubiksCube-repacked.jar"/>
            <arg value="${applets}/VirtualRubiksCube.jar"/>
        </exec>
        <delete file="${applets}/VirtualRubiksCube"/>
        <move file="${applets}/VirtualRubiksCube-repacked.jar" tofile="${applets}/VirtualRubiksCube.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VirtualRubiksCube.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VirtualRubiksCube.jar.pack.gz"/>
            <arg value="${applets}/VirtualRubiksCube.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar VirtualRubiksDiamond">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <classpath>
            <pathelement location="${lib}/java_30.zip"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="VirtualRubiksDiamond.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/virtual/Labels*.properties"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VirtualRubiksDiamond.jar" >
            <manifest>
                <attribute name="Main-Class" value="VirtualRubiksDiamond"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VirtualRubiksDiamond"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VirtualRubiksDiamond-repacked.jar"/>
            <arg value="${applets}/VirtualRubiksDiamond.jar"/>
        </exec>
        <delete file="${applets}/VirtualRubiksDiamond.jar"/>
        <move file="${applets}/VirtualRubiksDiamond-repacked.jar" tofile="${applets}/VirtualRubiksDiamond.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VirtualRubiksDiamond.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VirtualRubiksDiamond.jar.pack.gz"/>
            <arg value="${applets}/VirtualRubiksDiamond.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar VirtualRubiksCuboctahedron">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <classpath>
            <pathelement location="${lib}/java_30.zip"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="VirtualRubiksCuboctahedron.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/virtual/Labels*.properties"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VirtualRubiksCuboctahedron.jar" >
            <manifest>
                <attribute name="Main-Class" value="VirtualRubiksCuboctahedron"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VirtualRubiksCuboctahedron"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VirtualRubiksCuboctahedron-repacked.jar"/>
            <arg value="${applets}/VirtualRubiksCuboctahedron.jar"/>
        </exec>
        <delete file="${applets}/VirtualRubiksCuboctahedron.jar"/>
        <move file="${applets}/VirtualRubiksCuboctahedron-repacked.jar" tofile="${applets}/VirtualRubiksCuboctahedron.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VirtualRubiksCuboctahedron.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VirtualRubiksCuboctahedron.jar.pack.gz"/>
            <arg value="${applets}/VirtualRubiksCuboctahedron.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar VirtualPocketCube">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <classpath>
            <pathelement location="${lib}/java_30.zip"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="VirtualPocketCube.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/virtual/Labels*.properties"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VirtualPocketCube.jar" >
            <manifest>
                <attribute name="Main-Class" value="VirtualPocketCube"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VirtualPocketCube"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VirtualPocketCube-repacked.jar"/>
            <arg value="${applets}/VirtualPocketCube.jar"/>
        </exec>
        <delete file="${applets}/VirtualPocketCube.jar"/>
        <move file="${applets}/VirtualPocketCube-repacked.jar" tofile="${applets}/VirtualPocketCube.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VirtualPocketCube.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VirtualPocketCube.jar.pack.gz"/>
            <arg value="${applets}/VirtualPocketCube.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar VirtualProfessorCube">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <classpath>
            <pathelement location="${lib}/java_30.zip"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="VirtualProfessorCube.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/virtual/Labels*.properties"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VirtualProfessorCube.jar" >
            <manifest>
                <attribute name="Main-Class" value="VirtualProfessorCube"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VirtualProfessorCube"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VirtualProfessorCube-repacked.jar"/>
            <arg value="${applets}/VirtualProfessorCube.jar"/>
        </exec>
        <delete file="${applets}/VirtualProfessorCube.jar"/>
        <move file="${applets}/VirtualProfessorCube-repacked.jar" tofile="${applets}/VirtualProfessorCube.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VirtualProfessorCube.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VirtualProfessorCube.jar.pack.gz"/>
            <arg value="${applets}/VirtualProfessorCube.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar VirtualRevengeCube">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <classpath>
            <pathelement location="${lib}/java_30.zip"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="VirtualRevengeCube.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/virtual/Labels*.properties"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VirtualRevengeCube.jar" >
            <manifest>
                <attribute name="Main-Class" value="VirtualRevengeCube"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VirtualRevengeCube"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VirtualRevengeCube-repacked.jar"/>
            <arg value="${applets}/VirtualRevengeCube.jar"/>
        </exec>
        <delete file="${applets}/VirtualRevengeCube.jar"/>
        <move file="${applets}/VirtualRevengeCube-repacked.jar" tofile="${applets}/VirtualRevengeCube.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VirtualRevengeCube.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VirtualRevengeCube.jar.pack.gz"/>
            <arg value="${applets}/VirtualRevengeCube.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar VirtualVCube6">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <classpath>
            <pathelement location="${lib}/java_30.zip"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="VirtualVCube6.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/virtual/Labels*.properties"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VirtualVCube6.jar" >
            <manifest>
                <attribute name="Main-Class" value="VirtualVCube6"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VirtualVCube6"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VirtualVCube6-repacked.jar"/>
            <arg value="${applets}/VirtualVCube6.jar"/>
        </exec>
        <delete file="${applets}/VirtualVCube6.jar"/>
        <move file="${applets}/VirtualVCube6-repacked.jar" tofile="${applets}/VirtualVCube6.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VirtualVCube6.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VirtualVCube6.jar.pack.gz"/>
            <arg value="${applets}/VirtualVCube6.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar VirtualVCube7">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <classpath>
            <pathelement location="${lib}/java_30.zip"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="VirtualVCube7.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/virtual/Labels*.properties"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VirtualVCube7.jar" >
            <manifest>
                <attribute name="Main-Class" value="VirtualVCube7"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VirtualVCube7"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VirtualVCube7-repacked.jar"/>
            <arg value="${applets}/VirtualVCube7.jar"/>
        </exec>
        <delete file="${applets}/VirtualVCube7.jar"/>
        <move file="${applets}/VirtualVCube7-repacked.jar" tofile="${applets}/VirtualVCube7.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VirtualVCube7.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VirtualVCube7.jar.pack.gz"/>
            <arg value="${applets}/VirtualVCube7.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar VirtualCube6">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <classpath>
            <pathelement location="${lib}/java_30.zip"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="VirtualCube6.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/virtual/Labels*.properties"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VirtualCube6.jar" >
            <manifest>
                <attribute name="Main-Class" value="VirtualCube6"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VirtualCube6"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VirtualCube6-repacked.jar"/>
            <arg value="${applets}/VirtualCube6.jar"/>
        </exec>
        <delete file="${applets}/VirtualCube6.jar"/>
        <move file="${applets}/VirtualCube6-repacked.jar" tofile="${applets}/VirtualCube6.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VirtualCube6.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VirtualCube6.jar.pack.gz"/>
            <arg value="${applets}/VirtualCube6.jar"/>
        </exec>
    </target>
    <target depends="init,clean" name="jar VirtualCube7">
        <delete dir="${appletclasses}"/>
        <mkdir dir="${appletclasses}"/>
        <mkdir dir="${applets}"/>
        <javac includeantruntime="false" debug="${applet.debug}" debuglevel="${applet.debuglevel}" optimize="true" deprecation="false"
               srcdir="${src}" destdir="${appletclasses}" target="${javac.target}"
               bootclasspath="${javac.bootclasspath}" classpath="${javac.classpath}" extdirs="${javac.extdirs}"
               source="${javac.source}" encoding="UTF-8"
        >
            <!-- To add something to the classpath: -->
            <classpath>
            <pathelement location="${lib}/java_30.zip"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src}"/>
                <pathelement location="${media.src}"/>
            </sourcepath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
            <include name="VirtualCube7.java"/>
        </javac>
        <copy todir="${appletclasses}">
            <fileset dir="${media.src}">
                <include name="org/monte/media/gui/images/**"/>
                <include name="org/monte/media/Labels*.properties"/>
                <exclude name="org/monte/media/gui/images/*.placard.png"/>
                <exclude name="**/_notes/**"/>
            </fileset>
            <fileset dir="${src}">
                <include name="ch/randelshofer/rubik/virtual/Labels*.properties"/>
            </fileset>
        </copy>
        <jar basedir="${appletclasses}" compress="true"
             jarfile="${applets}/VirtualCube7.jar" >
            <manifest>
                <attribute name="Main-Class" value="VirtualCube7"/>

                <!-- versioning -->
                <attribute name="Created-By" value="${author}"/>
                <attribute name="Built-By" value="${author}"/>
                <attribute name="Specification-Title" value="${name}"/>
                <attribute name="Specification-Version" value="${version}"/>
                <attribute name="Specification-Vendor" value="${author}"/>
                <attribute name="Implementation-Title" value="${name}"/>
                <attribute name="Implementation-Version" value="${version}"/>
                <attribute name="Implementation-Vendor" value="${author}"/>
                
                <!-- applet security -->
                <attribute name="Application-Name" value="VirtualCube7"/>
                <attribute name="Codebase" value="*"/>
                <attribute name="Application-Library-Allowable-Codebase" value="*"/>
                <attribute name="Caller-Allowable-Codebase" value="*"/>
                <attribute name="Permissions" value="sandbox"/>
                <attribute name="Trusted-Only" value="false"/>
                <attribute name="Trusted-Library" value="false"/>

            </manifest>
        </jar>
        <exec executable="pack200">
            <arg value="--repack"/>
            <arg value="${applets}/VirtualCube7-repacked.jar"/>
            <arg value="${applets}/VirtualCube7.jar"/>
        </exec>
        <delete file="${applets}/VirtualCube7.jar"/>
        <move file="${applets}/VirtualCube7-repacked.jar" tofile="${applets}/VirtualCube7.jar"/>
        <signjar alias="${keystore.alias}" storepass="${keystore.storepass}"
                keystore="${keystore.file}" keypass="${keystore.keypass}"
                jar="${applets}/VirtualCube7.jar"
                tsaurl="${keystore.tsaurl}"
                >
        </signjar>          
        <exec executable="pack200">
            <arg value="${applets}/VirtualCube7.jar.pack.gz"/>
            <arg value="${applets}/VirtualCube7.jar"/>
        </exec>
    </target>
    <target name="copy sources from JHotDraw project" depends="init">
        <delete dir="${JHotDrawSrcdir}"/>
        <mkdir dir="${JHotDrawSrcdir}"/>
        <copy todir="${JHotDrawSrcdir}">
            <fileset dir="${JHotDrawProjectSrcDir}">
                <include name="org/jhotdraw/annotations/**"/>
                <include name="org/jhotdraw/app/**"/>
                <include name="org/jhotdraw/beans/**"/>
                <exclude name="org/jhotdraw/color/**"/>
                <include name="org/jhotdraw/util/**"/>
                <include name="org/jhotdraw/geom/**"/>
                <include name="org/jhotdraw/gui/**"/>
                <include name="org/jhotdraw/undo/*.properties"/>
                <include name="org/jhotdraw/io/**"/>
                <include name="org/jhotdraw/net/**"/>
                <include name="org/jhotdraw/text/**"/>
                <exclude name="org/jhotdraw/text/ColorFormatter**"/>
                <exclude name="org/jhotdraw/text/ColorToolTipTextFormatter**"/>
                <exclude name="**/.*"/>
                <exclude name="org/jhotdraw/samples/**"/>
                <exclude name="org/jhotdraw/gui/event/AbstractAttributeEditorHandler*"/>
                <exclude name="org/jhotdraw/gui/event/DrawingAttributeEditorHandler*"/>
                <exclude name="org/jhotdraw/gui/event/DrawingComponentRepainter*"/>
                <exclude name="org/jhotdraw/gui/event/FigureAttributeEditorHandler*"/>
                <exclude name="org/jhotdraw/gui/event/SelectionComponentDisplayer*"/>
                <exclude name="org/jhotdraw/gui/event/SelectionComponentRepainter*"/>
                <exclude name="org/jhotdraw/gui/JAttribute*"/>
                <exclude name="org/jhotdraw/gui/JDisclosure*"/>
                <exclude name="org/jhotdraw/gui/JFontChooser*"/>
                <exclude name="org/jhotdraw/gui/JPopupButton*"/>
                <exclude name="org/jhotdraw/gui/plaf/**"/>
            </fileset>
        </copy>
    </target>
</project>
